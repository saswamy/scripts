<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 7.2.2.2 (Linux)"/>
	<meta name="created" content="2022-06-10T15:16:37.049452359"/>
	<meta name="changed" content="2022-06-10T15:17:37.834178172"/>
	<style type="text/css">
		@page { size: 8.5in 11in; margin: 0.79in }
		p { line-height: 115%; margin-bottom: 0.1in; background: transparent }
	</style>
</head>
<body lang="en-US" link="#000080" vlink="#800000" dir="ltr"><p style="line-height: 100%; margin-bottom: 0in">
# scripts</p>
<p style="line-height: 100%; margin-bottom: 0in"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0in">1) to add NSG rules
to 1 or more NSGs  - create a file &quot;/tmp/ip.txt&quot; below
format . 
</p>
<p style="line-height: 100%; margin-bottom: 0in">Add Rules</p>
<p style="line-height: 100%; margin-bottom: 0in">-----------</p>
<p style="line-height: 100%; margin-bottom: 0in">1. Inside code - 
</p>
<p style="line-height: 100%; margin-bottom: 0in">        Update
&quot;nsg_list_multiple&quot; with your NSG name (case insensitive) 
</p>
<p style="line-height: 100%; margin-bottom: 0in">	e.g: 
</p>
<p style="line-height: 100%; margin-bottom: 0in">	       
&quot;nsg_list_multiple&quot;=['NSG-DR-DESJCTMPR2ODR-PvtLBAAS001','NSG-DR-DESJCTMPRDODR-PvtLBAAS001']</p>
<p style="line-height: 100%; margin-bottom: 0in"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0in">2. create a file
“/tmp/ip.txt” below format .</p>
<p style="line-height: 100%; margin-bottom: 0in">	e.g: 
</p>
<p style="line-height: 100%; margin-bottom: 0in">	INGRESS: RFC
3-DG05HAG Ingress from customer CIDR 147.154.0.0/19 for soadev pub LB
on 443 :147.154.0.0/19:443</p>
<p style="line-height: 100%; margin-bottom: 0in">	INGRESS:&lt;Description&gt;:CIDR-Addr:Port</p>
<p style="line-height: 100%; margin-bottom: 0in">	EGRESS:&lt;Description&gt;:CIDR-Addr:Port</p>
<p style="line-height: 100%; margin-bottom: 0in"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0in">3. Uncomment
add_nsg_rules_per_nsg_wrapper(nsg_list_multiple)</p>
<p style="line-height: 100%; margin-bottom: 0in">4) run 
</p>
<p style="line-height: 100%; margin-bottom: 0in">	python
nsg_manage.py</p>
<p style="line-height: 100%; margin-bottom: 0in"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0in"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0in">Delete Rules Steps:</p>
<p style="line-height: 100%; margin-bottom: 0in">-------------------—</p>
<p style="line-height: 100%; margin-bottom: 0in">1. Inside code - 
</p>
<p style="line-height: 100%; margin-bottom: 0in">	Update
&quot;nsg_list_multiple&quot; with your NSG name (case insensitive)
and uncomment/run with &quot;build_delete_nsg_rules&quot;(&quot;nsg_list_multiple&quot;)</p>
<p style="line-height: 100%; margin-bottom: 0in">2. Review output
from Step 1</p>
<p style="line-height: 100%; margin-bottom: 0in">3. Comment
&quot;build_delete_nsg_rules&quot;(&quot;nsg_list_multiple&quot;)</p>
<p style="line-height: 100%; margin-bottom: 0in">4. Based on info
from Step-3 output file ( &quot;/tmp/1_build_delete*)- Create
/tmp/delete.txt as per example below 
</p>
<p style="line-height: 100%; margin-bottom: 0in">	e.g : 
/tmp/delete.txt</p>
<p style="line-height: 100%; margin-bottom: 0in">	NSG-Prod-PROTWCIPRDNDR-DB:45E297</p>
<p style="line-height: 100%; margin-bottom: 0in">	NSG-Prod-PROTWCIPRD-PvtMT:B7D016</p>
<p style="line-height: 100%; margin-bottom: 0in">	NSG-Prod-PROTWCIPRD-PvtMT:F22446</p>
<p style="line-height: 100%; margin-bottom: 0in">5. In Code -
Uncomment delete_nsg_rules()</p>
<p style="line-height: 100%; margin-bottom: 0in">6. run python3
nsg_manage.py</p>
</body>
</html>